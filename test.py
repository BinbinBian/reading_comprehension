import numpy as np

mask = np.asarray([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
loss_mat = np.asarray([9.9036331, 9.9035606, 9.9036331, 9.9036016, 9.9036341, 9.9035606, 9.9036331, 9.903636, 9.903614, 9.9036188, 9.9036379, 9.903635, 9.9036388, 9.90363, 9.9035921, 9.9035921, 9.9035931, 9.9035921, 9.9035931, 9.90359, 9.90359, 9.9035912, 9.90359, 9.9035912, 9.90359, 9.9035931, 9.90359, 9.90359, 9.9035912, 9.90359])
masked = 9.9036331

res = np.dot(mask, loss_mat) / np.sum(mask)
print res
print masked
print res == masked